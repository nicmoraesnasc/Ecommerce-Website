{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
                <div class="flash {{ category }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<style>
    body {
        overflow-x: hidden;
    }
    body::before {
        content: "";
        position: fixed;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(157, 0, 255, 0.05) 0%, transparent 70%);
        pointer-events: none;
        z-index: -1;
    }
</style>

<div class="header-div">
    <a href="{{ url_for('index') }}" class="logo-link">
        <img src="{{ url_for('static', filename='image/adorn_saturn_logo.jpg') }}" alt="Logo" class="logo-img">
    </a>
    <form method="get" action="{{ url_for('index') }}">
        <button name="index-btn" class="button-header">Home</button>
    </form>

    {% if 'user_id' in session and session['user_id'] != 0 %}
        {% if is_admin %}
            <form method="get" action="{{ url_for('user') }}">
                <button name="profile-btn" class="button-header">Perfil</button>
            </form>
            <form method="get" action="{{ url_for('manage_users') }}">
                <button name="users-btn" class="button-header">Editar usu√°rios</button>
            </form>
            <form method="get" action="{{ url_for('admin_orders') }}">
                <button name="orders-btn" class="button-header">Pedidos</button>
            </form>
            <form method="get" action="{{ url_for('about') }}">
                <button name="edit-about-btn" class="button-header">Editar Sobre</button>
            </form>
        {% else %}
            <form method="get" action="{{ url_for('my_orders') }}">
                <button name="orders-btn" class="button-header">Minhas Compras</button>
            </form>
            <form method="get" action="{{ url_for('cart') }}">
                <button name="products-btn" class="button-header">Carrinho</button>
            </form>
            <form method="get" action="{{ url_for('user') }}">
                <button name="profile-btn" class="button-header">Perfil</button>
            </form>
            <form method="get" action="{{ url_for('about') }}">
                <button name="about-btn" class="button-header">Sobre</button>
            </form>
        {% endif %}

        <form method="get" action="{{ url_for('logout') }}">
            <button name="logout-btn" class="button-header">Log out</button>
        </form>
    {% endif %}
</div>